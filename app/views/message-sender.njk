{% extends '_layout.njk' %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/task-list/macro.njk" import govukTaskList %}

{% block beforeContent %}
  {{ super() }}
  {{ govukBackLink({
        text: "Home",
        href: "/home",
        attributes: {
          id: "home"
        }
      }) 
    }}
{% endblock %}

{% block content %}
    <div class="govuk-form-group">
      <h1 class="govuk-heading-l">
        <label class="govuk-label govuk-label--l" for="message-input">
          Please submit a Json message
        </label>
      </h1>
      <h3 class="govuk-heading-m">
        <label class="govuk-label govuk-label--m">
          This form is for demo purposes only.
        </label>
      </h3>

      <form action="/message-sender" method="POST">  
        <div class="govuk-grid-column-two-thirds">

          <div class="govuk-form-group">
            <h1 class="govuk-label-wrapper">
              <label class="govuk-label govuk-label--l" for="message-body">
                Message Body
              </label>
            </h1>
            <div id="message-body-hint" class="govuk-hint">
              Please enter the message body in valid Json format.
            </div>
            <textarea class="govuk-textarea" id="message-body" name="messageBody" rows="20" aria-describedby="message-body-hint"></textarea>
          </div>
          
          <div class="govuk-!-padding-bottom-5">
            <h1 class="govuk-label-wrapper">
              <label class="govuk-label govuk-label--l"  for="messageAction">
                Message Action
              </label>
            </h1>
            <select class="govuk-select" id="messageAction" name="messageAction">
              <option value="action" selected>Please Select</option>
              <option value="sendEmail">Send Email</option>
              <option value="crm">CRM Process Flow</option>
            </select>
          </div>
          <input type="hidden" name="crumb" value="{{crumb}}">
          <button type="submit" data-prevent-double-click="true" class="govuk-button" data-module="govuk-button">
              Submit
          </button>
        </div>  
        
      </form>
    </div>
{% endblock %}